spack:
  view: @INSTALL_ROOT@/view
  config:
    install_tree: @INSTALL_ROOT@/software

  concretization: separately

  specs:
  - openfoam-org@8 +metis % @COMPILER@ ^findutils % @SYSTEM_COMPILER@ ^tar % @SYSTEM_COMPILER@ ^diffutils % @SYSTEM_COMPILER@

   
  packages:
    all:
      compiler:
      - @COMPILER@
        
      providers:
        mpi:
          - openmpi

      target:
      - @ARCH@

    cuda:
      buildable: false
      externals:
      - spec: cuda@11.2.152
        prefix: /usr/local/cuda
    openmpi:
      buildable: true
      version: 
      - 4.1.2
      variants: +cxx +cxx_exceptions +legacylaunchers +memchecker +pmi +static+vt +wrapper-rpath fabrics=auto schedulers=slurm
    slurm:
      buildable: false
      version: [20-11]
      externals:
      - spec: slurm@20-11
        prefix: /usr/local
